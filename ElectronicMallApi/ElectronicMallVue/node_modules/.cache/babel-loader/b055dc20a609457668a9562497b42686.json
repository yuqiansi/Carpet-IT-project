{"ast":null,"code":"'use strict';\n\nrequire(\"core-js/modules/es.regexp.exec.js\");\n\nrequire(\"core-js/modules/es.string.split.js\");\n\nrequire(\"core-js/modules/es.string.trim.js\");\n\nrequire(\"core-js/modules/es.object.to-string.js\");\n\nrequire(\"core-js/modules/web.dom-collections.for-each.js\");\n\nrequire(\"core-js/modules/es.array.splice.js\");\n\nexports.__esModule = true;\n\nvar _vue = require('vue');\n\nvar _vue2 = _interopRequireDefault(_vue);\n\nvar _dom = require('element-ui/lib/utils/dom');\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nvar hasModal = false;\nvar hasInitZIndex = false;\nvar zIndex = void 0;\n\nvar getModal = function getModal() {\n  if (_vue2.default.prototype.$isServer) return;\n  var modalDom = PopupManager.modalDom;\n\n  if (modalDom) {\n    hasModal = true;\n  } else {\n    hasModal = false;\n    modalDom = document.createElement('div');\n    PopupManager.modalDom = modalDom;\n    modalDom.addEventListener('touchmove', function (event) {\n      event.preventDefault();\n      event.stopPropagation();\n    });\n    modalDom.addEventListener('click', function () {\n      PopupManager.doOnModalClick && PopupManager.doOnModalClick();\n    });\n  }\n\n  return modalDom;\n};\n\nvar instances = {};\nvar PopupManager = {\n  modalFade: true,\n  getInstance: function getInstance(id) {\n    return instances[id];\n  },\n  register: function register(id, instance) {\n    if (id && instance) {\n      instances[id] = instance;\n    }\n  },\n  deregister: function deregister(id) {\n    if (id) {\n      instances[id] = null;\n      delete instances[id];\n    }\n  },\n  nextZIndex: function nextZIndex() {\n    return PopupManager.zIndex++;\n  },\n  modalStack: [],\n  doOnModalClick: function doOnModalClick() {\n    var topItem = PopupManager.modalStack[PopupManager.modalStack.length - 1];\n    if (!topItem) return;\n    var instance = PopupManager.getInstance(topItem.id);\n\n    if (instance && instance.closeOnClickModal) {\n      instance.close();\n    }\n  },\n  openModal: function openModal(id, zIndex, dom, modalClass, modalFade) {\n    if (_vue2.default.prototype.$isServer) return;\n    if (!id || zIndex === undefined) return;\n    this.modalFade = modalFade;\n    var modalStack = this.modalStack;\n\n    for (var i = 0, j = modalStack.length; i < j; i++) {\n      var item = modalStack[i];\n\n      if (item.id === id) {\n        return;\n      }\n    }\n\n    var modalDom = getModal();\n    (0, _dom.addClass)(modalDom, 'v-modal');\n\n    if (this.modalFade && !hasModal) {\n      (0, _dom.addClass)(modalDom, 'v-modal-enter');\n    }\n\n    if (modalClass) {\n      var classArr = modalClass.trim().split(/\\s+/);\n      classArr.forEach(function (item) {\n        return (0, _dom.addClass)(modalDom, item);\n      });\n    }\n\n    setTimeout(function () {\n      (0, _dom.removeClass)(modalDom, 'v-modal-enter');\n    }, 200);\n\n    if (dom && dom.parentNode && dom.parentNode.nodeType !== 11) {\n      dom.parentNode.appendChild(modalDom);\n    } else {\n      document.body.appendChild(modalDom);\n    }\n\n    if (zIndex) {\n      modalDom.style.zIndex = zIndex;\n    }\n\n    modalDom.tabIndex = 0;\n    modalDom.style.display = '';\n    this.modalStack.push({\n      id: id,\n      zIndex: zIndex,\n      modalClass: modalClass\n    });\n  },\n  closeModal: function closeModal(id) {\n    var modalStack = this.modalStack;\n    var modalDom = getModal();\n\n    if (modalStack.length > 0) {\n      var topItem = modalStack[modalStack.length - 1];\n\n      if (topItem.id === id) {\n        if (topItem.modalClass) {\n          var classArr = topItem.modalClass.trim().split(/\\s+/);\n          classArr.forEach(function (item) {\n            return (0, _dom.removeClass)(modalDom, item);\n          });\n        }\n\n        modalStack.pop();\n\n        if (modalStack.length > 0) {\n          modalDom.style.zIndex = modalStack[modalStack.length - 1].zIndex;\n        }\n      } else {\n        for (var i = modalStack.length - 1; i >= 0; i--) {\n          if (modalStack[i].id === id) {\n            modalStack.splice(i, 1);\n            break;\n          }\n        }\n      }\n    }\n\n    if (modalStack.length === 0) {\n      if (this.modalFade) {\n        (0, _dom.addClass)(modalDom, 'v-modal-leave');\n      }\n\n      setTimeout(function () {\n        if (modalStack.length === 0) {\n          if (modalDom.parentNode) modalDom.parentNode.removeChild(modalDom);\n          modalDom.style.display = 'none';\n          PopupManager.modalDom = undefined;\n        }\n\n        (0, _dom.removeClass)(modalDom, 'v-modal-leave');\n      }, 200);\n    }\n  }\n};\nObject.defineProperty(PopupManager, 'zIndex', {\n  configurable: true,\n  get: function get() {\n    if (!hasInitZIndex) {\n      zIndex = zIndex || (_vue2.default.prototype.$ELEMENT || {}).zIndex || 2000;\n      hasInitZIndex = true;\n    }\n\n    return zIndex;\n  },\n  set: function set(value) {\n    zIndex = value;\n  }\n});\n\nvar getTopPopup = function getTopPopup() {\n  if (_vue2.default.prototype.$isServer) return;\n\n  if (PopupManager.modalStack.length > 0) {\n    var topPopup = PopupManager.modalStack[PopupManager.modalStack.length - 1];\n    if (!topPopup) return;\n    var instance = PopupManager.getInstance(topPopup.id);\n    return instance;\n  }\n};\n\nif (!_vue2.default.prototype.$isServer) {\n  // handle `esc` key when the popup is shown\n  window.addEventListener('keydown', function (event) {\n    if (event.keyCode === 27) {\n      var topPopup = getTopPopup();\n\n      if (topPopup && topPopup.closeOnPressEscape) {\n        topPopup.handleClose ? topPopup.handleClose() : topPopup.handleAction ? topPopup.handleAction('cancel') : topPopup.close();\n      }\n    }\n  });\n}\n\nexports.default = PopupManager;","map":{"version":3,"sources":["D:/GitHub repository/Carpet-IT-project/ElectronicMallApi/ElectronicMallVue/node_modules/element-ui/lib/utils/popup/popup-manager.js"],"names":["exports","__esModule","_vue","require","_vue2","_interopRequireDefault","_dom","obj","default","hasModal","hasInitZIndex","zIndex","getModal","prototype","$isServer","modalDom","PopupManager","document","createElement","addEventListener","event","preventDefault","stopPropagation","doOnModalClick","instances","modalFade","getInstance","id","register","instance","deregister","nextZIndex","modalStack","topItem","length","closeOnClickModal","close","openModal","dom","modalClass","undefined","i","j","item","addClass","classArr","trim","split","forEach","setTimeout","removeClass","parentNode","nodeType","appendChild","body","style","tabIndex","display","push","closeModal","pop","splice","removeChild","Object","defineProperty","configurable","get","$ELEMENT","set","value","getTopPopup","topPopup","window","keyCode","closeOnPressEscape","handleClose","handleAction"],"mappings":"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","sourcesContent":["'use strict';\r\n\r\nexports.__esModule = true;\r\n\r\nvar _vue = require('vue');\r\n\r\nvar _vue2 = _interopRequireDefault(_vue);\r\n\r\nvar _dom = require('element-ui/lib/utils/dom');\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nvar hasModal = false;\r\nvar hasInitZIndex = false;\r\nvar zIndex = void 0;\r\n\r\nvar getModal = function getModal() {\r\n  if (_vue2.default.prototype.$isServer) return;\r\n  var modalDom = PopupManager.modalDom;\r\n  if (modalDom) {\r\n    hasModal = true;\r\n  } else {\r\n    hasModal = false;\r\n    modalDom = document.createElement('div');\r\n    PopupManager.modalDom = modalDom;\r\n\r\n    modalDom.addEventListener('touchmove', function (event) {\r\n      event.preventDefault();\r\n      event.stopPropagation();\r\n    });\r\n\r\n    modalDom.addEventListener('click', function () {\r\n      PopupManager.doOnModalClick && PopupManager.doOnModalClick();\r\n    });\r\n  }\r\n\r\n  return modalDom;\r\n};\r\n\r\nvar instances = {};\r\n\r\nvar PopupManager = {\r\n  modalFade: true,\r\n\r\n  getInstance: function getInstance(id) {\r\n    return instances[id];\r\n  },\r\n\r\n  register: function register(id, instance) {\r\n    if (id && instance) {\r\n      instances[id] = instance;\r\n    }\r\n  },\r\n\r\n  deregister: function deregister(id) {\r\n    if (id) {\r\n      instances[id] = null;\r\n      delete instances[id];\r\n    }\r\n  },\r\n\r\n  nextZIndex: function nextZIndex() {\r\n    return PopupManager.zIndex++;\r\n  },\r\n\r\n  modalStack: [],\r\n\r\n  doOnModalClick: function doOnModalClick() {\r\n    var topItem = PopupManager.modalStack[PopupManager.modalStack.length - 1];\r\n    if (!topItem) return;\r\n\r\n    var instance = PopupManager.getInstance(topItem.id);\r\n    if (instance && instance.closeOnClickModal) {\r\n      instance.close();\r\n    }\r\n  },\r\n\r\n  openModal: function openModal(id, zIndex, dom, modalClass, modalFade) {\r\n    if (_vue2.default.prototype.$isServer) return;\r\n    if (!id || zIndex === undefined) return;\r\n    this.modalFade = modalFade;\r\n\r\n    var modalStack = this.modalStack;\r\n\r\n    for (var i = 0, j = modalStack.length; i < j; i++) {\r\n      var item = modalStack[i];\r\n      if (item.id === id) {\r\n        return;\r\n      }\r\n    }\r\n\r\n    var modalDom = getModal();\r\n\r\n    (0, _dom.addClass)(modalDom, 'v-modal');\r\n    if (this.modalFade && !hasModal) {\r\n      (0, _dom.addClass)(modalDom, 'v-modal-enter');\r\n    }\r\n    if (modalClass) {\r\n      var classArr = modalClass.trim().split(/\\s+/);\r\n      classArr.forEach(function (item) {\r\n        return (0, _dom.addClass)(modalDom, item);\r\n      });\r\n    }\r\n    setTimeout(function () {\r\n      (0, _dom.removeClass)(modalDom, 'v-modal-enter');\r\n    }, 200);\r\n\r\n    if (dom && dom.parentNode && dom.parentNode.nodeType !== 11) {\r\n      dom.parentNode.appendChild(modalDom);\r\n    } else {\r\n      document.body.appendChild(modalDom);\r\n    }\r\n\r\n    if (zIndex) {\r\n      modalDom.style.zIndex = zIndex;\r\n    }\r\n    modalDom.tabIndex = 0;\r\n    modalDom.style.display = '';\r\n\r\n    this.modalStack.push({ id: id, zIndex: zIndex, modalClass: modalClass });\r\n  },\r\n\r\n  closeModal: function closeModal(id) {\r\n    var modalStack = this.modalStack;\r\n    var modalDom = getModal();\r\n\r\n    if (modalStack.length > 0) {\r\n      var topItem = modalStack[modalStack.length - 1];\r\n      if (topItem.id === id) {\r\n        if (topItem.modalClass) {\r\n          var classArr = topItem.modalClass.trim().split(/\\s+/);\r\n          classArr.forEach(function (item) {\r\n            return (0, _dom.removeClass)(modalDom, item);\r\n          });\r\n        }\r\n\r\n        modalStack.pop();\r\n        if (modalStack.length > 0) {\r\n          modalDom.style.zIndex = modalStack[modalStack.length - 1].zIndex;\r\n        }\r\n      } else {\r\n        for (var i = modalStack.length - 1; i >= 0; i--) {\r\n          if (modalStack[i].id === id) {\r\n            modalStack.splice(i, 1);\r\n            break;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    if (modalStack.length === 0) {\r\n      if (this.modalFade) {\r\n        (0, _dom.addClass)(modalDom, 'v-modal-leave');\r\n      }\r\n      setTimeout(function () {\r\n        if (modalStack.length === 0) {\r\n          if (modalDom.parentNode) modalDom.parentNode.removeChild(modalDom);\r\n          modalDom.style.display = 'none';\r\n          PopupManager.modalDom = undefined;\r\n        }\r\n        (0, _dom.removeClass)(modalDom, 'v-modal-leave');\r\n      }, 200);\r\n    }\r\n  }\r\n};\r\n\r\nObject.defineProperty(PopupManager, 'zIndex', {\r\n  configurable: true,\r\n  get: function get() {\r\n    if (!hasInitZIndex) {\r\n      zIndex = zIndex || (_vue2.default.prototype.$ELEMENT || {}).zIndex || 2000;\r\n      hasInitZIndex = true;\r\n    }\r\n    return zIndex;\r\n  },\r\n  set: function set(value) {\r\n    zIndex = value;\r\n  }\r\n});\r\n\r\nvar getTopPopup = function getTopPopup() {\r\n  if (_vue2.default.prototype.$isServer) return;\r\n  if (PopupManager.modalStack.length > 0) {\r\n    var topPopup = PopupManager.modalStack[PopupManager.modalStack.length - 1];\r\n    if (!topPopup) return;\r\n    var instance = PopupManager.getInstance(topPopup.id);\r\n\r\n    return instance;\r\n  }\r\n};\r\n\r\nif (!_vue2.default.prototype.$isServer) {\r\n  // handle `esc` key when the popup is shown\r\n  window.addEventListener('keydown', function (event) {\r\n    if (event.keyCode === 27) {\r\n      var topPopup = getTopPopup();\r\n\r\n      if (topPopup && topPopup.closeOnPressEscape) {\r\n        topPopup.handleClose ? topPopup.handleClose() : topPopup.handleAction ? topPopup.handleAction('cancel') : topPopup.close();\r\n      }\r\n    }\r\n  });\r\n}\r\n\r\nexports.default = PopupManager;"]},"metadata":{},"sourceType":"script"}